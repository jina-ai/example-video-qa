jtype: Flow
version: '1'
executors:
  - name: subtitle_extractor
    uses: SubtitleExtractor
    py_module:
      - executors.py
  - name: encoder
    uses: jinahub://TransformerSentenceEncoder/v0.2
    uses_with:
      traversal_paths:
        - 'c'
  - name: vec_indexer
    uses: jinahub://SimpleIndexer/v0.4
  - name: kv_indexer
    uses: jinahub://LMDBStorage/v0.1
    uses_with:
      default_return_embeddings: False
      default_traversal_paths:
        - 'c'
    needs: subtitle_extractor
  - name: joiner
    needs: [kv_indexer, vec_indexer]