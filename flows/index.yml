jtype: Flow
version: '1'
executors:
  - name: subtitle_extractor
    uses: jinahub://VideoLoader/v0.3
    install_requirements: true
    uses_with:
      modality_list:
        - 'text'
    uses_request:
      '/index': 'extract'
  - name: encoder
    uses: jinahub+docker://DPRTextEncoder/v0.2
    uses_with:
      pretrained_model_name_or_path: 'facebook/dpr-ctx_encoder-single-nq-base'
      encoder_type: 'context'
      traversal_paths:
        - 'c'
    volumes: '/Users/nanwang/.cache/huggingface:/root/.cache/huggingface'
  - name: vec_indexer
    uses: jinahub://SimpleIndexer/v0.6